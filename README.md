Решение первых трех пунктов тестового задания, тестовые данные в в test_data.py.
Получение информации по пользователям идет с расчетом на то что у каждого пользователя есть сессия
и хотя бы один action.
версия python 3.7